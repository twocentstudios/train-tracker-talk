name: train-tracker-talk

options:
  bundleIdPrefix: com.twocentstudios.train-tracker-talk
  deploymentTarget:
    iOS: "18.0"
    macOS: "15.0"

configs:
  Debug: debug
  Release: release

fileGroups:
  - CLAUDE.md
  - SignificantChange/CLAUDE.md
  - SignificantStartLocation/CLAUDE.md
  - MotionActivity/CLAUDE.md
  - StartEndLocation/CLAUDE.md

packages:
  SharingGRDB:
    url: https://github.com/pointfreeco/sharing-grdb
    from: 0.1.0

targets:
  SignificantChange:
    type: application
    platform: iOS
    sources:
      - path: SignificantChange
        excludes:
          - "CLAUDE.md"
    dependencies:
      - package: SharingGRDB
    settings:
      DEVELOPMENT_TEAM: YK25EF78NT
      TARGETED_DEVICE_FAMILY: "1"
    info:
      path: SignificantChange/Info.plist
      properties:
        CFBundleDisplayName: 01 SigChange
        CFBundleShortVersionString: "1.0"
        CFBundleVersion: "1"
        LSRequiresIPhoneOS: true
        UILaunchStoryboardName: LaunchScreen
        UISupportedInterfaceOrientations:
          - UIInterfaceOrientationPortrait
        UIBackgroundModes:
          - location
        NSLocationAlwaysAndWhenInUseUsageDescription: "Document signficant locations in the background"
        NSLocationWhenInUseUsageDescription: "Document signficant locations"

  MotionActivity:
    type: application
    platform: iOS
    sources:
      - path: MotionActivity
        excludes:
          - "CLAUDE.md"
    dependencies:
      - package: SharingGRDB
    settings:
      DEVELOPMENT_TEAM: YK25EF78NT
      TARGETED_DEVICE_FAMILY: "1"
    info:
      path: MotionActivity/Info.plist
      properties:
        CFBundleDisplayName: 03 MotionActivity
        CFBundleShortVersionString: "1.0"
        CFBundleVersion: "1"
        LSRequiresIPhoneOS: true
        UILaunchStoryboardName: LaunchScreen
        UISupportedInterfaceOrientations:
          - UIInterfaceOrientationPortrait
        NSMotionUsageDescription: "Access motion data to track activity while riding trains"

  SignificantStartLocation:
    type: application
    platform: iOS
    sources:
      - path: SignificantStartLocation
        excludes:
          - "CLAUDE.md"
    dependencies:
      - package: SharingGRDB
    settings:
      DEVELOPMENT_TEAM: YK25EF78NT
      TARGETED_DEVICE_FAMILY: "1"
    info:
      path: SignificantStartLocation/Info.plist
      properties:
        CFBundleDisplayName: 02 SigStartLoc
        CFBundleShortVersionString: "1.0"
        CFBundleVersion: "1"
        LSRequiresIPhoneOS: true
        UILaunchStoryboardName: LaunchScreen
        UISupportedInterfaceOrientations:
          - UIInterfaceOrientationPortrait
        UIBackgroundModes:
          - location
        NSLocationAlwaysAndWhenInUseUsageDescription: "Document signficant locations in the background"
        NSLocationWhenInUseUsageDescription: "Document signficant locations"

  StartEndLocation:
    type: application
    platform: iOS
    sources:
      - path: StartEndLocation
        excludes:
          - "CLAUDE.md"
    dependencies:
      - package: SharingGRDB
    settings:
      DEVELOPMENT_TEAM: YK25EF78NT
      TARGETED_DEVICE_FAMILY: "1"
    info:
      path: StartEndLocation/Info.plist
      properties:
        CFBundleDisplayName: 04 StartEndLoc
        CFBundleShortVersionString: "1.0"
        CFBundleVersion: "1"
        LSRequiresIPhoneOS: true
        UILaunchStoryboardName: LaunchScreen
        UISupportedInterfaceOrientations:
          - UIInterfaceOrientationPortrait
        UIBackgroundModes:
          - location
        NSLocationAlwaysAndWhenInUseUsageDescription: "Document signficant locations in the background"
        NSLocationWhenInUseUsageDescription: "Document signficant locations"